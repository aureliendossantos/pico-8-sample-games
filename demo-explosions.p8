pico-8 cartridge // http://www.pico-8.com
version 27
__lua__
function _init()
	x=64
	y=52
	timer=1
	e_timer=0
	exploding=false
	details=false
	explosions={}
end

function _update()
	if btnp(⬅️) then
	 timer=max(1,timer-1)
	end
	if btnp(➡️) then
		timer=min(12,timer+1)
	end
	if btnp(❎) then
		exploding=not exploding
	end
	if btnp(🅾️) then
		details=not details
	end
	if exploding then
		e_timer+=1
		if e_timer>3 then
			e_timer=0
			local x=flr(rnd(128))
			local y=flr(rnd(128))
			create_explosion(x,y)
		end
	end
	update_explosions()
end

function _draw()
 uix=40
 cls(1)
 if exploding then
  cls(0)
  draw_explosions()
 else
	 rectfill(44,35,84,72,0)
	 rect(44,35,84,72,7)
	 rectfill(48,72,80,74,7)
	 rectfill(49,72,79,75,7)
	 rectfill(50,72,78,76,7)
	 rectfill(49,72,79,74,0)
	 rectfill(50,72,78,75,0)
	 circ(x,y,timer/3,8+timer%3)
	 if timer<10 then
	 	textx=63
	 	if details then
		 	print(timer,uix+26,84,7)
		 	print(timer,uix+34,91,7)
		 end
	 else
	  textx=61
	  if details then
		  print(timer,uix+24,84,7)
		  print(timer,uix+32,91,7)
		 end
	 end
	 print("timer:",53,63,6)
	 print("⬅️",50,70,6)
	 if (btn(⬅️)) print("⬅️",50,70,7)
	 print("➡️",72,70,6)
	 if (btn(➡️)) print("➡️",72,70,7)
	 print(timer,textx,70,7)
	 --rectfill(0,0,127,18,0)
	 --print("circ("..x..", "..y..", "..(timer/3)..", "..(8+timer%3)..")",4,13,13)
	 if details then
			--print("circ(x, y, timer/3, 8+timer%3)",4,6,13)
			print("rayon:  /3=",uix,84,6)
			print(timer/3,uix+44,84,7)
			print("couleur:8+  %3",uix-8,91,6)
			print(8+timer%3,uix+40,98,8+timer%3)
			print(timer%3,uix+32,98,7)
			print("       =8+ =",uix-8,98,6)
	 else
	  print("rayon:",uix,84,6)
			print(timer/3,uix+24,84,7)
			print("couleur:",uix-8,91,6)
			print(8+timer%3,uix+24,91,8+timer%3)
	 end
	 print("c:afficher les details",uix-20,118,6)
	 if btn(🅾️) then
	  print("c",uix-20,118,7)
	 end
	end
 if exploding then
 	print("x:arreter la demo",uix-8,111,6)
 else
  print("x:lancer la demo",uix-8,111,6)
 end
 if btn(❎) then
  print("x",uix-8,111,7)
 end
end

--explosions

function create_explosion(x,y)
 add(explosions,{
  x = x,
  y = y,
  time = 0
 })
 sfx(1)
end

function update_explosions()
 for boom in all(explosions) do
  boom.time += 1
  if boom.time == 13 then
   del(explosions, boom)
  end
 end
end

function draw_explosions()
 for boom in all(explosions) do
 	circ(boom.x, boom.y,
 	 boom.time/3, 8+boom.time%3)
 end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111777777777777777777777777777777777777777771111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000009000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000666066606660666066600000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000060006006660600060600600000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000060006006060660066000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000060006006060600060600600000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000060066606060666060600000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000000000000000000000000000000000000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000066666000000077000000006666600000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111700000666006600000007000000066006660000071111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111777770660006600000007000000066000660777771111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111170666006600000007000000066006660711111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111170066666000000077700000006666600711111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111117000000000000000000000000000007111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111777777777777777777777777777771111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111116661666161611661661111117771111177717771777177711111111111111111111111111111111111111111
11111111111111111111111111111111111111116161616161616161616116117171111111711171117111711111111111111111111111111111111111111111
11111111111111111111111111111111111111116611666166616161616111117171111117711771177117711111111111111111111111111111111111111111
11111111111111111111111111111111111111116161616111616161616116117171111111711171117111711111111111111111111111111111111111111111
11111111111111111111111111111111111111116161616166616611616111117771171177717771777177711111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111166116616161611166616161666111119991111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111611161616161611161116161616116119191111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111611161616161611166116161661111119991111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111611161616161611161116161616116111191111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111166166111661666166611661616111111191111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111666661111116611666166611661111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111116616166111116161611166616161111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111116661666111116161661161616161111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111116616166111116161611161616161111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111666661111116661666161616611111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111666661111116611666166616661666161111661111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111116611166111116161611116116161161161116111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111116616166111116161661116116661161161116661111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111116611166111116161611116116161161161111161111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111666661111116661666116116161666166616611111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111

