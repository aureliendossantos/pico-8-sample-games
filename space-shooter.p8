pico-8 cartridge // http://www.pico-8.com
version 27
__lua__
function _init()
 p={x=60,y=80,speed=1.5}
 bullets={}
 create_stars()
end

function _update60()
 if (btn(➡️)) p.x+=p.speed
 if (btn(⬅️)) p.x-=p.speed
 if (btn(⬇️)) p.y+=p.speed
 if (btn(⬆️)) p.y-=p.speed
 if (btnp(❎)) shoot()
 update_bullets()
 update_stars()
end

function _draw()
 cls()
 --etoiles
 for s in all(stars) do
 	pset(s.x,s.y,s.col)
 end
 --vaisseau
 spr(1,p.x,p.y)
 --balles
 for b in all(bullets) do
 	spr(2,b.x,b.y)
 end
end
-->8
--bullets

function shoot()
 local new_bullet={
  x=p.x,
  y=p.y,
  speed=4
 }
 add(bullets, new_bullet)
 sfx(0)
end

function update_bullets()
	for b in all(bullets) do
		b.y-=b.speed
		if (b.y<-8) del(bullets,b)
	end
end
-->8
--stars

function create_stars()
	stars={}
	for i=1,20 do
		local new_star={
		 x=rnd(128),
		 y=rnd(128),
		 col=1,
		 speed=1+rnd(0.5)
	 }
	 add(stars, new_star)
	end
	for i=1,8 do
		local new_star={
		 x=rnd(128),
		 y=rnd(128),
		 col=6,
		 speed=3+rnd(1)
	 }
	 add(stars, new_star)
	end
end

function update_stars()
	for s in all(stars) do
		s.y+=s.speed
		if s.y>128 then
			s.y=0
			s.x=rnd(128)
		end
	end
end
__gfx__
000000000060060000a00a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000060060000a00a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070006dc7d600090090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700006dccd600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000d66dd66d0090090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700d666666d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000050dd0500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100002d5503055032550325502e55029540235401b530145200e5200b510085100651000500005000050000500005000050000500005000050000500005000050000500005000050000500005000050000500
